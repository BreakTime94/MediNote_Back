import{c as M,a,ao as f}from"./index-D3Bzzjcr.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],j=M("refresh-cw",E),K=void 0;function C({center:o={lat:37.5665,lng:126.978},level:c=3,draggable:g=!0,scrollwheel:v=!0,marker:k=!0,infoWindowContent:d="서울시청 (기본 예제)",className:h="w-full h-full",onReady:m,onClick:p,onIdle:l}){const u=a.useRef(null),[e,x]=a.useState(null),[w,y]=a.useState(null);return a.useEffect(()=>{if(window.kakao&&window.kakao.maps){n();return}const t=document.createElement("script");t.src=`//dapi.kakao.com/v2/maps/sdk.js?appkey=${K}&autoload=false&libraries=services`,t.async=!0,document.head.appendChild(t),t.onload=()=>{window.kakao.maps.load(()=>{n()})},t.onerror=()=>{y("Kakao SDK를 불러오는 데 실패했습니다.")};function n(){if(!u.current)return;const s=window.kakao,r={center:new s.maps.LatLng(o.lat,o.lng),level:c,draggable:g,scrollwheel:v},L=new s.maps.Map(u.current,r);x(L),typeof m=="function"&&m(s,L)}},[]),a.useEffect(()=>{if(!e)return;const t=window.kakao,n=new t.maps.LatLng(o.lat,o.lng);if(e.setCenter(n),e.setLevel(c),k){const i=new t.maps.Marker({position:n,map:e});d&&new t.maps.InfoWindow({position:n,content:`<div style="padding:8px 12px;font-size:13px;">${d}</div>`}).open(e,i)}const s=i=>{const r=i.latLng;typeof p=="function"&&p(r.getLat(),r.getLng(),t,e)};return t.maps.event.addListener(e,"click",s),()=>{t.maps.event.removeListener(e,"click",s)}},[e,o.lat,o.lng,c,k,d,p]),a.useEffect(()=>{if(!e)return;const t=window.kakao,n=new t.maps.ZoomControl;return e.addControl(n,t.maps.ControlPosition.RIGHT),()=>{e.removeControl(n)}},[e]),a.useEffect(()=>{if(!e)return;const t=window.kakao,n=()=>{typeof l=="function"&&l({center:e.getCenter(),bounds:e.getBounds(),level:e.getLevel()})};return t.maps.event.addListener(e,"idle",n),()=>{t.maps.event.removeListener(e,"idle",n)}},[e,l]),f.jsxs("div",{className:h,style:{minHeight:"500px",width:"100%"},children:[f.jsx("div",{ref:u,style:{width:"100%",height:"100%"}}),w&&f.jsxs("div",{className:"absolute bottom-2 left-2 rounded-md bg-red-50 text-red-700 text-sm px-3 py-2 shadow",children:["SDK 로드 실패: ",w]})]})}export{C as K,j as R};
