import{a as c,an as n}from"./index-D3Bzzjcr.js";import{u as h}from"./useEmailTimer-DN5LH1mw.js";import{s as e}from"./commonToast-eM_n8a5E.js";function E(){const[i,d]=c.useState(""),[f,s]=c.useState(!1),{leftTime:l,startTimer:u,formatTime:p,stopTimer:o}=h();return{verificationCode:i,setVerificationCode:d,showCodeInput:f,setShowCodeInput:s,sendCode:(a,r)=>{n.post("/member/email/send",{email:a,type:r}).then(t=>{e.success({title:t.data.message,desc:t.data.desc}),u(),s(!0)}).catch(()=>{e.error({title:"인증 메일 발송 실패",desc:"잠시 후 다시 시도해주세요."})})},verifyCode:(a,r,t,C)=>{n.post("/member/email/verify",{email:a,code:i,type:C}).then(m=>{m.data.available===!0?(e.success({title:m.data.message}),t(!0),s(!1),o()):e.formerr({title:"인증 코드가 올바르지 않습니다."})}).catch(()=>{e.error({title:"인증 확인 중 오류가 발생했습니다."})})},leftTime:l,formatTime:p,stopTimer:o}}export{E as u};
