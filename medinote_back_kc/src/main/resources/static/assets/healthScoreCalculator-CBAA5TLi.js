import{a as o}from"./index-D3Bzzjcr.js";const y=e=>{const s={};if(e.height){const t=Number(e.height);(isNaN(t)||t<100||t>250)&&(s.height="키는 100 ~ 250 cm 사이여야 합니다")}if(e.weight){const t=Number(e.weight);(isNaN(t)||t<30||t>200)&&(s.weight="체중은 30 ~ 200 kg 사이여야 합니다")}if(e.bloodPressureSystolic){const t=Number(e.bloodPressureSystolic);(isNaN(t)||t<60||t>250)&&(s.bloodPressureSystolic="수축기 혈압은 60 ~ 250 mmHg 사이여야 합니다")}if(e.bloodPressureDiastolic){const t=Number(e.bloodPressureDiastolic);(isNaN(t)||t<40||t>150)&&(s.bloodPressureDiastolic="이완기 혈압은 40 ~ 150 mmHg 사이여야 합니다")}if(e.bloodPressureSystolic&&e.bloodPressureDiastolic){const t=Number(e.bloodPressureSystolic),r=Number(e.bloodPressureDiastolic);!isNaN(t)&&!isNaN(r)&&t<=r&&(s.bloodPressure="수축기 혈압이 이완기 혈압보다 높아야 합니다")}if(e.bloodSugar){const t=Number(e.bloodSugar);(isNaN(t)||t<40||t>300)&&(s.bloodSugar="혈당은 40 ~ 300 mg/dL 사이여야 합니다")}if(e.sleepHours){const t=Number(e.sleepHours);(isNaN(t)||t<0||t>24)&&(s.sleepHours="수면 시간은 0 ~ 24시간 사이여야 합니다")}return s};function D(e){const[s,t]=o.useState(""),[r,i]=o.useState([]),l=o.useRef(null);return{keyword:s,results:r,handleSearch:n=>{t(n),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{if(!n.trim()){i([]);return}const b=e.filter(f=>f.nameKo&&f.nameKo.includes(n));i(b)},200)},reset:()=>{t(""),i([])}}}const d=e=>e?e.includes("20대")||e.includes("30대"):!1,g=e=>e?e.includes("40대")||e.includes("50대"):!1,h=e=>e?e.includes("60대")||e.includes("70대"):!1,a=e=>{if(!e)return null;const s=new Date,t=new Date(e);let r=s.getFullYear()-t.getFullYear();const i=s.getMonth()-t.getMonth();return(i<0||i===0&&s.getDate()<t.getDate())&&r--,r},N=e=>e?e<10?"10세 미만":e<20?"10대":e<30?"20대":e<40?"30대":e<50?"40대":e<60?"50대":e<70?"60대":"70대 이상":null,m=e=>{let s=0;const t=e.birthDate?a(e.birthDate):null,r=t?N(t):null;if(e.height&&e.weight){const i=e.weight/(e.height/100)**2,l=d(r),c=g(r),u=h(r);l?i<16?s+=6:i<18.5?s+=12:i<25?s+=18:i<30?s+=12:s+=6:c?i<18.5?s+=9:i<26?s+=18:i<30?s+=12:s+=6:u?i<19?s+=9:i<27?s+=18:i<30?s+=14:s+=9:i>=18.5&&i<23?s+=18:i>=16&&i<30?s+=12:s+=6}if(e.bloodPressureSystolic&&e.bloodPressureDiastolic){const i=Number(e.bloodPressureSystolic),l=Number(e.bloodPressureDiastolic);i<90||l<60?s+=8:i<=120&&l<=80?s+=15:i<=130&&l<=85?s+=11:i<=140&&l<=90?s+=7:s+=4}if(e.bloodSugar){const i=Number(e.bloodSugar);i<70?s+=8:i<=100?s+=15:i<=125?s+=10:i<=180?s+=5:s+=3}if(e.sleepHours){const i=Number(e.sleepHours);d(r)||g(r)?i<5?s+=5:i<7?s+=9:i<=9?s+=15:s+=10:i>=7&&i<=9?s+=15:i>=5?s+=9:s+=5}if(e.smoking||(s+=12),!e.drinking)s+=10;else if(e.drinkingPerWeek&&e.drinkingPerOnce){const i=Number(e.drinkingPerWeek)*Number(e.drinkingPerOnce);i<=7?s+=10:i<=14?s+=7:s+=3}else s+=7;if(!e.chronicDiseaseYn)s+=8;else{const i=e.chronicDiseaseIds?.length||0;i===0?s+=8:i===1?s+=6:i===2?s+=4:s+=2}if(!e.allergyYn)s+=4;else{const i=e.allergyIds?.length||0;i===0?s+=4:i===1?s+=2:s+=1}if(!e.medicationYn)s+=3;else{const i=e.medications?.length||0;i===0?s+=3:i<=2?s+=2:s+=1}return Math.min(Math.max(s,0),100)},w=e=>e>=90?{grade:"A+",text:"매우 건강",color:"#10b981"}:e>=80?{grade:"A",text:"건강",color:"#22c55e"}:e>=70?{grade:"B+",text:"양호",color:"#84cc16"}:e>=60?{grade:"B",text:"보통",color:"#eab308"}:e>=50?{grade:"C+",text:"주의",color:"#f59e0b"}:e>=40?{grade:"C",text:"관리필요",color:"#f97316"}:{grade:"D",text:"위험",color:"#ef4444"};export{y as M,m as c,w as g,D as u};
