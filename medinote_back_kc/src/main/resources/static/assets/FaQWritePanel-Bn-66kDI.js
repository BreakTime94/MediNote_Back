import{al as H,am as L,a as s,ao as e,an as B}from"./index-D3Bzzjcr.js";function F({faqCategoryId:N=3,defaultMemberIdForTest:v=1,defaultPostStatus:w="PUBLISHED",onCancel:d,onSuccess:m,listPath:u="/boards/faq",readPathBuilder:S=n=>`/boards/faq/read/${n}`}){const n=H(),{member:g}=L(),[a,I]=s.useState(""),[l,k]=s.useState(""),[i,E]=s.useState(!0),[o,C]=s.useState(!1),[p,D]=s.useState(w),[b,h]=s.useState(!1),[f,y]=s.useState(""),P=g?.id??g?.memberId??v,r=s.useMemo(()=>{const t={};return(!a||a.trim().length<2)&&(t.title="제목은 2자 이상 입력하세요."),(!l||l.trim().length<10)&&(t.content="내용은 10자 이상 입력하세요."),t},[a,l]),j=Object.keys(r).length>0,q=()=>{if(d)return d();n(u)},A=async t=>{if(t.preventDefault(),!j){h(!0),y("");try{const c={memberId:P,boardCategoryId:N,title:a.trim(),content:l.trim(),requireAdminPost:o,isPublic:i,qnaStatus:"WAITING",postStatus:p},x=(await B.post("/boards/register",c))?.data?.id;if(m)return m(x);n(x?S(x):u)}catch(c){console.error(c),y("등록에 실패했습니다. 잠시 후 다시 시도해 주세요.")}finally{h(!1)}}};return e.jsxs("section",{className:"w-full max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"FAQ 등록"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"자주 묻는 질문을 등록하세요."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:q,className:"rounded-2xl px-4 py-2 shadow-sm ring-1 ring-gray-200 bg-white text-gray-700 hover:bg-gray-50 transition",children:"취소"}),e.jsx("button",{type:"submit",form:"faq-write-form",disabled:b||j,className:"rounded-2xl px-4 py-2 shadow-sm text-white bg-gradient-to-r from-pink-300 to-purple-300 hover:opacity-90 transition disabled:opacity-60",children:b?"등록 중…":"등록"})]})]}),e.jsxs("form",{id:"faq-write-form",onSubmit:A,className:"rounded-3xl border border-gray-200 bg-white p-5 md:p-6 shadow-sm space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"공개 여부"}),e.jsx("button",{type:"button",onClick:()=>E(t=>!t),className:"w-full px-3 py-2 rounded-xl text-sm ring-1 transition "+(i?"bg-gradient-to-r from-pink-200 to-purple-200 text-gray-900 ring-transparent":"bg-white text-gray-700 ring-gray-200 hover:bg-gray-50"),title:i?"현재: 공개":"현재: 비공개",children:i?"공개":"비공개"}),e.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"비공개 시 관리자/작성자만 확인합니다."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"게시 상태"}),e.jsxs("select",{value:p,onChange:t=>D(t.target.value),className:"w-full rounded-xl border border-gray-200 text-sm px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-200",children:[e.jsx("option",{value:"PUBLISHED",children:"게시(PUBLISHED)"}),e.jsx("option",{value:"HIDDEN",children:"숨김(HIDDEN)"})]}),e.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"숨김은 임시 저장 용도로 활용할 수 있습니다."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"중요 표시"}),e.jsx("button",{type:"button",onClick:()=>C(t=>!t),className:"w-full px-3 py-2 rounded-xl text-sm ring-1 transition "+(o?"bg-gradient-to-r from-pink-200 to-purple-200 text-gray-900 ring-transparent":"bg-white text-gray-700 ring-gray-200 hover:bg-gray-50"),title:o?"현재: 중요":"현재: 일반",children:o?"중요":"일반"}),e.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"상단 고정/강조 등에 사용할 수 있습니다."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"제목"}),e.jsx("input",{type:"text",value:a,onChange:t=>I(t.target.value),placeholder:"예) 비밀번호를 잊어버렸어요",className:`w-full rounded-xl border text-sm px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-200 ${r.title?"border-rose-300":"border-gray-200"}`,maxLength:160}),e.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[r.title?e.jsx("p",{className:"text-xs text-rose-600",children:r.title}):e.jsx("span",{className:"text-xs text-gray-500",children:"2~160자"}),e.jsxs("span",{className:"text-[11px] text-gray-400",children:[a.length,"/160"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"내용"}),e.jsx("textarea",{value:l,onChange:t=>k(t.target.value),placeholder:"자주 묻는 질문에 대한 상세한 답변을 입력하세요.",className:`w-full min-h-[220px] rounded-xl border text-sm px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-200 resize-y ${r.content?"border-rose-300":"border-gray-200"}`}),r.content?e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:r.content}):e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"10자 이상 입력하세요."})]}),f&&e.jsx("div",{className:"rounded-2xl bg-rose-50 text-rose-700 ring-1 ring-rose-200 px-4 py-3 text-sm",children:f})]})]})}export{F as default};
