import{ao as e,a as r,an as p}from"./index-D3Bzzjcr.js";function u({title:s,onClose:a,children:l,width:o="w-[500px]"}){return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50",children:e.jsxs("div",{className:`bg-white rounded-2xl shadow-lg p-6 ${o} max-h-[80vh] overflow-y-auto relative`,children:[e.jsx("button",{onClick:a,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 text-xl font-bold",children:"✕"}),s&&e.jsx("h2",{className:"text-xl font-bold mb-4",children:s}),e.jsx("div",{className:"text-gray-800",children:l})]})})}function b({policyCode:s,title:a,content:l,onClose:o,onConfirm:n}){return e.jsxs(u,{title:a,onClose:o,children:[e.jsx("div",{className:"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed mb-4",children:l}),e.jsx("button",{onClick:()=>n(s),className:"mt-6 w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600",children:"약관에 동의합니다"})]})}function f({agreements:s,setAgreements:a,onTermsLoaded:l}){const[o,n]=r.useState([]),[c,d]=r.useState(null);r.useEffect(()=>{p.get("/terms/list").then(t=>{console.log("Terms 가져오기 성공",t.data.status),n(t.data.list),l(t.data.list)}).catch(t=>{console.log(t.response.data)})},[]);const h=t=>{d(t)},x=()=>{d(null)},m=t=>{a({...s,[t]:!0}),x()};return e.jsxs("div",{className:"mt-6 border-t pt-2",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"약관 동의"}),e.jsx("div",{className:"space-y-2",children:o.map(t=>e.jsx("div",{className:"flex items-center justify-between border rounded-lg p-2 hover:bg-gray-50 cursor-pointer transition",onClick:()=>h(t),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s[t.policyCode]||!1,onChange:i=>a({...s,[t.policyCode]:i.target.checked}),onClick:i=>i.stopPropagation()}),e.jsxs("span",{className:"text-sm text-gray-800",children:[t.title," ",e.jsxs("span",{className:"text-gray-500 text-xs",children:["(",t.required?"필수":"선택",")"]})]})]})},t.policyCode))}),c&&e.jsx(b,{policyCode:c.policyCode,title:c.title,content:c.content,onClose:x,onConfirm:m})]})}export{f as T};
