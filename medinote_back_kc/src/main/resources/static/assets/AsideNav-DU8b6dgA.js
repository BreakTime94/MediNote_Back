import{a as g,ao as o}from"./index-D3Bzzjcr.js";import{B as q}from"./Button-C8G8zfQ9.js";function P({title:a="",subtitle:w="",items:l=[],className:A="",sticky:v={enabled:!0,top:96,width:260},scroll:d={offset:80,smooth:!0,spy:!0,syncHash:!1},ui:y={activeGradientClass:"bg-grad-main",inactiveHoverClass:"hover:bg-gray-50",buttonHeightClass:"h-11"},activeId:C,defaultActiveId:N,onChange:R,onAction:b,activeComponentId:z}){const[S,H]=g.useState(N??l?.[0]?.id??""),T=typeof C=="string",k=T?C:S,u=e=>{T||H(e),R?.(e)},f=d?.offset??80,h=d?.smooth??!0,E=d?.spy??!0,p=d?.syncHash??!1,i=g.useRef(null),c=g.useRef(!1);g.useEffect(()=>{if(!E)return;const e=l.filter(t=>t.actionType!=="component");if(e.length===0)return;const n=()=>{c.current||(i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{const t=window.scrollY+f+10;let s=null,r=1/0;e.forEach(x=>{const $=document.getElementById(x.id);if(!$)return;const j=$.getBoundingClientRect(),m=j.top+window.scrollY,W=m+j.height;if(t>=m&&t<=W){s=x.id;return}const B=Math.abs(m-t);B<r&&m<=t&&(r=B,s=x.id)}),s&&(u(s),p&&window.history.replaceState(null,"",`#${s}`))},50))};return n(),window.addEventListener("scroll",n,{passive:!0}),()=>{window.removeEventListener("scroll",n),i.current&&clearTimeout(i.current)}},[E,l,f,p]);const I=e=>{if(e.actionType==="component"){u(e.id),b?.("component",e.id),e.onClick?.();return}const n=document.getElementById(e.id);if(n){c.current=!0;const t=n.getBoundingClientRect().top+window.scrollY-f;window.scrollTo({top:t,behavior:h?"smooth":"auto"}),u(e.id),b?.("scroll",e.id),p&&window.history.replaceState(null,"",`#${e.id}`),setTimeout(()=>{c.current=!1,n.setAttribute("tabindex","-1"),n.focus()},h?800:100)}else{u(e.id),b?.("scroll",e.id);const t=()=>{const s=document.getElementById(e.id);if(s){c.current=!0;const r=s.getBoundingClientRect().top+window.scrollY-f;window.scrollTo({top:r,behavior:h?"smooth":"auto"}),p&&window.history.replaceState(null,"",`#${e.id}`),setTimeout(()=>{c.current=!1,s.setAttribute("tabindex","-1"),s.focus()},h?800:100)}};requestAnimationFrame(()=>{setTimeout(t,50)})}},Y=v?.enabled!==!1,G=v?.width??260,L=v?.top??96,M=Y?{position:"sticky",top:`${L}px`,width:`${G}px`}:{};return o.jsxs("aside",{className:`w-full rounded-2xl border bg-white p-3 shadow-sm self-start ${A}`,style:M,role:"navigation","aria-label":a||"사이드 네비게이션",children:[(a||w)&&o.jsxs("header",{className:"px-3 pt-1 pb-2",children:[a&&o.jsx("h3",{className:"text-base font-semibold text-gray-800",children:a}),w&&o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:w})]}),o.jsx("nav",{className:"flex flex-col gap-2",children:l.map(e=>{const n=k===e.id,t=`justify-start ${y.buttonHeightClass||"h-11"} border`,s=`${y.activeGradientClass||"bg-gradient-to-r from-pink-400 to-purple-400"} text-white border-transparent shadow-sm hover:brightness-105`,r=`text-gray-700 border-gray-200 ${y.inactiveHoverClass||"hover:bg-gray-50"}`;return o.jsx(q,{onClick:()=>I(e),variant:"white",radius:"lg",size:"md",fullWidth:!0,"aria-current":n?"true":"false",className:`${t} ${n?s:r}`,children:o.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.icon,e.label]})},e.id)})})]})}export{P as A};
